{% extends 'filmy/base.html' %}

{% block 'title' %}Filmy | {{ block.super }}{% endblock %}

{% block 'content' %}
    <h1>Filmy</h1>

    {{ movies }}

    <hr>
    <div class="row row-cols-1  row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-2">

    {% for movie in movies %}
     
        <div class="col">
            <div class="card h-100">
                <img class="card-img-top" src="{%if movie.main_picture %}{{movie.main_picture}}{%else%}data:image/jpeg;base64,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OclpubdBPQrUp2FrGtO8NaD2gL+lkpGKMMxCWlmjqIHmOaJ143i12n7RYkW61emjOvWmexrK+CSKUDvpYhnifYDbl/SaSb7NvavY031O0de509O7uOocSXZWgwSOO0lzNlj1j1KsMS1K4xEfzbIKkbbFkzGm19lxLlsfWgsPGtemHxsPc0U9TJbYHARxg/zE3PqCo3SjSOpxOodU1L8zyLNaNjI2Dc1g5h773UpotTONSGzoIoB+1JUQkf8AGXH2KwtEtR9PA5stdL3U4WIhaC2C/wDOTtf2bPSnw+vE1CaEvdKMVnZaJgIpARte87HSDoAFwOkk9CvpfiKJrQ1rQGtaAGtAAAA3AAbgv2gLP/CT+lUPkJPjWgFVmt7V7WYxPTSUz6drYYntdxr3tJcXX2ZWHmUFe8Hvld3ms3xxrSqp/VXqyrsJrzVVD6Z0ZgkZaOSQuzOcwjY5g2d6edXAtIFY80/5VxLz2r+c9bCKoLSfU1idVW1lTHJRiOeonkYHSyhwY+RzhmAjIBsVnrXEo4OXJdR57J8mBWqoRqk0TqMIopaapdE576h8jTG5zm5DHG0XLmjbdh9im6161mInrW5GxDyJ94WS4947Qth6cYTJXYfVUkRYJZo8rC8kMBuN5AJ9io0aisWFjxtDv+um+6UmrcaJofBR+Iz3BZm18csy+Sg+FabpWFrGNO9rWg9oCp3WZqtr8UxCSrgfStjcyNoEkkgfdosdgYR7U6THn8GrwmIeJT++RTnXlyJVePTfOYvg1QaA1mDvqnVLoHCdsQZxT3usWl175mt6QpJrJwCbE8Omo4DG2WR0JaZHODLMka43IBO4HmT0nn8rMWgvKmG+fUfzmLYqoHRrUxidLW0dS+SjMcFTTyPDZZS4sjka52UGMAmwKv4K3DqrtemhvdtL3dC29TSA5gB30tPe7h2t2uHVmHQs3rcDmgggi4O8cxCoXSjUfVyVc0lFJTNpXuLo2SPka6PNtLQGsIyg3t1WWWn8uDb9LrfIR/Gr/cL7FV2qLV7WYPPUS1L6dzZY2tbxT3uNw65vmYNitNWsxlfWxoQ/Cqtz2NPcVQ5zoHAd6wna6I9BBOzpFutfLoBrBqcGe4MaJqaQgyU7nEAuH6zHWOR3XY359wWp8UwyGrifBPG2WJ4s5jhcHr6j18ypvSXUMCXPoKnKDciCe5A27hI0Xtv3g821JVSGi134S9uaQVMLudhize1psvB0i18xgFlDSue7baaY5WtPMRG25dz7yPSoPVanMbY6zaaOUftMqIA0/wC9zT7F92F6kcWlI43uembfbmlD3gdQjuD6wggGL4jLVzyVMzs80rsz3WAuewbhYBXzwdKWRlDUvexzWSzgxuIID2hgBLekX2XX16KalaClLZKpzq2UfquAbTg+INrvSbdSs2KFrAGtAa1oAa0ABrQNwAG4Ij+iIiKLi6iDi6iIOIuog4uoiAiIgIiICIiAuLqIOWXURAXF1EHF1EQEREHEXUQcRdRAREQEREHF1EQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREH/2Q=={%endif%}" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">{{movie.name}} {{movie.year}}</h5>
                    {%if movie.director %}
                    <h6>{{movie.director}}</h6>
                    {%endif%}

                    {% for genre in movie.genres.all %}
                    <span class="badge rounded-pill text-bg-primary">{{genre.name}}</span>
                    {% endfor %}    
                    <p class="card-text ">{{movie.description|truncatewords_html:10}}</p>
                </div>
                <div class="card-footer text-end">
                    <a href="{% url 'movie' movie.id%}" class="btn btn-primary">Detaily</a>
                </div>
            </div>
        </div>

        
    {% endfor %}
    </div>
    <hr>

    
        
 
{% endblock %}